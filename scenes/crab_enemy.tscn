[gd_scene load_steps=25 format=3 uid="uid://d4duknihl2udq"]

[ext_resource type="Script" path="res://scripts/crab_enemy.gd" id="1_e1y0w"]
[ext_resource type="Texture2D" uid="uid://b1crwo78wqru6" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 01.png" id="2_v2ni8"]
[ext_resource type="Texture2D" uid="uid://baabu2fbps2yd" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 02.png" id="3_scmbu"]
[ext_resource type="Texture2D" uid="uid://c3kfwk2ts56us" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 03.png" id="4_hc40s"]
[ext_resource type="Texture2D" uid="uid://dism107x1sx15" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 04.png" id="5_ig7u3"]
[ext_resource type="Texture2D" uid="uid://c4vsh6bi0fn7c" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 05.png" id="6_3bv1r"]
[ext_resource type="Texture2D" uid="uid://c7jv7gbln7j3g" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 06.png" id="7_d4eui"]
[ext_resource type="Texture2D" uid="uid://cks8wswa4ygtf" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 07.png" id="8_qp6at"]
[ext_resource type="Texture2D" uid="uid://cmyysmp5qjnum" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 08.png" id="9_8digm"]
[ext_resource type="Texture2D" uid="uid://cgq6ebrlkhuo5" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/01-Idle/Idle 09.png" id="10_pw0vd"]
[ext_resource type="Texture2D" uid="uid://jpy18xbgosfp" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/03-Jump/Jump 01.png" id="11_00ebn"]
[ext_resource type="Texture2D" uid="uid://d0e6gfgp6uje3" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/03-Jump/Jump 02.png" id="12_cbrdl"]
[ext_resource type="Texture2D" uid="uid://ckobag7ofddry" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/03-Jump/Jump 03.png" id="13_v0ou1"]
[ext_resource type="Texture2D" uid="uid://brco8ii7nk6lo" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/02-Run/Run 01.png" id="14_fe341"]
[ext_resource type="Texture2D" uid="uid://dvsgcbnxfkfmw" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/02-Run/Run 02.png" id="15_eu4u1"]
[ext_resource type="Texture2D" uid="uid://cnswn41v4m5n4" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/02-Run/Run 03.png" id="16_2fd7e"]
[ext_resource type="Texture2D" uid="uid://be8afxkimhl4u" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/02-Run/Run 04.png" id="17_bn0pr"]
[ext_resource type="Texture2D" uid="uid://hhqlbpe5kuyw" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/02-Run/Run 05.png" id="18_m4ee6"]
[ext_resource type="Texture2D" uid="uid://spbcqhmx388q" path="res://assets/Treasure Hunters/Treasure Hunters/The Crusty Crew/Sprites/Crabby/02-Run/Run 06.png" id="19_4kfge"]
[ext_resource type="AudioStream" uid="uid://cfvoqwj5gu3yl" path="res://assets/sounds/enemies dying.wav" id="76_5wd53"]

[sub_resource type="SpriteFrames" id="SpriteFrames_55yat"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_v2ni8")
}, {
"duration": 1.0,
"texture": ExtResource("3_scmbu")
}, {
"duration": 1.0,
"texture": ExtResource("4_hc40s")
}, {
"duration": 1.0,
"texture": ExtResource("5_ig7u3")
}, {
"duration": 1.0,
"texture": ExtResource("6_3bv1r")
}, {
"duration": 1.0,
"texture": ExtResource("7_d4eui")
}, {
"duration": 1.0,
"texture": ExtResource("8_qp6at")
}, {
"duration": 1.0,
"texture": ExtResource("9_8digm")
}, {
"duration": 1.0,
"texture": ExtResource("10_pw0vd")
}],
"loop": true,
"name": &"idle",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_00ebn")
}, {
"duration": 1.0,
"texture": ExtResource("12_cbrdl")
}, {
"duration": 1.0,
"texture": ExtResource("13_v0ou1")
}],
"loop": true,
"name": &"jump",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("14_fe341")
}, {
"duration": 1.0,
"texture": ExtResource("15_eu4u1")
}, {
"duration": 1.0,
"texture": ExtResource("16_2fd7e")
}, {
"duration": 1.0,
"texture": ExtResource("17_bn0pr")
}, {
"duration": 1.0,
"texture": ExtResource("18_m4ee6")
}, {
"duration": 1.0,
"texture": ExtResource("19_4kfge")
}],
"loop": true,
"name": &"run",
"speed": 12.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_7to6c"]
radius = 17.0
height = 58.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6gqtq"]
size = Vector2(90, 33)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_20kn2"]
size = Vector2(362, 152.75)

[node name="crab_enemy" type="CharacterBody2D" groups=["enemy"]]
collision_layer = 32
collision_mask = 2
script = ExtResource("1_e1y0w")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_55yat")
animation = &"run"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -8)
shape = SubResource("CapsuleShape2D_7to6c")

[node name="Area2D" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_7to6c")

[node name="wall_collision_detector" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="wall_collision_detector"]
position = Vector2(0, -3.5)
shape = SubResource("RectangleShape2D_6gqtq")

[node name="sight_radius" type="Area2D" parent="."]
position = Vector2(-25, 160)
scale = Vector2(2.76705, 3.723)
collision_layer = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="sight_radius"]
visible = false
position = Vector2(9, -44)
shape = SubResource("RectangleShape2D_20kn2")

[node name="death_sound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("76_5wd53")

[node name="Ray1" type="RayCast2D" parent="."]
target_position = Vector2(150, 0)

[node name="Ray2" type="RayCast2D" parent="."]
target_position = Vector2(-150, 0)

[node name="Ray3" type="RayCast2D" parent="."]
target_position = Vector2(0, -1000)

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
[connection signal="body_entered" from="wall_collision_detector" to="." method="_on_wall_collision_detector_body_entered"]
[connection signal="body_entered" from="sight_radius" to="." method="_on_sight_radius_body_entered"]
